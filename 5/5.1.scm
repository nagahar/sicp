(define (factorial n)
  (define (iter product counter)
    (if (> counter n)
      product
      (iter (* counter product)
	    (+ counter 1))))
  (iter 1 1))

;; データパス図
;;
;;          /\
;;         /1 \
;;         ----
;;         |  |--------------
;;         |  |             |
;;         |  |  /---\  --- |
;;         |  |  | > |<-|n| |
;;         X  X  \---/  --- |
;;         |  |    ^        |
;;         v  v    |        |
;; --------- ---------      |
;; |product| |counter|      |
;; --------- ---------      |
;; ^  |       |  ^  |       |
;; |  v       v  |  v       v
;; X   \-----/   X   \-----/
;; |    \ * /    |    \ + /
;; |     ---     |     ---
;; |      |      |      |
;; --------      --------

;; 制御図
;;
;;       start
;;         |
;;         v
;;    --------------
;;    |product <- 1|
;;    --------------
;;         |
;;         v
;;    --------------
;;    |counter <- 1|
;;    --------------
;;         |
;;         v
;;         /\
;;        /> \ yes
;; ------>\  /----> done
;; |       \/
;; |       | no
;; |       v
;; |  --------------
;; |  |product <- *|
;; |  --------------
;; |       |
;; |       v
;; |  --------------
;; |  |counter <- +|
;; |  --------------
;; |       |
;; ---------
